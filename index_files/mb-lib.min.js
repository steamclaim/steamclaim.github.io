mbc.version="1.0.0",function(a,i){let e=a.mbc;mbcCalls=e.queue;let n=!1,t=!1,l=!1,m=!1,c=!1,r=!1,s=!1,o=!1;const b=e=>{try{return e.replace(/\'/g,"''")}catch(a){return e}},d=(a,e)=>{var t,{clickId:l,leadData:m,saleAmount:c,commissionAmount:r,rateName:s,affiliateId:o}=e;l&&(e="",e=s?e+`&mbr=${s}`:e,e=m?e+`&mbd=${m}`:e,e=c?e+`&mbs=${c}`:e,e=r?e+`&mbcm=${r}`:e,e=o?e+`&mba=${o}`:e,e=l?e+`&mbi=${l}`:e,l=`https://chant3rm1.com/trk/lead?mbm=${n}${e}`,t=`https://chant3rm1.com/trk/callback?mbm=${n}${e}`,async function(a){fetch(a,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(a=>a.json()).then(a=>{var e;return a?(a.success&&((e=i.createElement("iframe")).src=t,e.id="mbif",e.width=1,e.height=1,e.frameBorder=0,i.body.appendChild(e)),a.success):(console.log("Tracking error (result):",a),!1)}).catch(a=>(console.log("Tracking error:",a.message),!1))}(l))};mbcCalls.map(a=>{switch(a[0]){case"init":n=!!a[1]&&parseInt(a[1]);break;case"track":var e=a[1]||{};t=!!e.mbi&&parseInt(e.mbi),c=e.mbd?b(e.mbd):"",l=e.mbs?parseFloat(e.mbs):0,m=e.mbcm?parseFloat(e.mbcm):0,r=e.mbr?b(e.mbr):"",s=e.mba?parseInt(e.mba):0,o=!0}});var p,g,u,a=a.location.search;const h=new URLSearchParams(a);if(n){t||(t=!!h.get("mbi")&&parseInt(h.get("mbi")),t&&!isNaN(t)&&(a=t,(p=new Date).setTime(p.getTime()+31536e6),i.cookie="mbi="+a+";path=/;expires="+p.toGMTString()+"sameSite=None;secure=true")),t=t||!!(p=i.cookie.match("(^|;) ?mbi=([^;]*)(;|$)"))&&p[2],c=c||!!h.get("mbd")&&h.get("mbd"),r=r||!!h.get("mbr")&&h.get("mbr"),l=l||!!h.get("mbs")&&parseFloat(h.get("mbs")),m=m||!!h.get("mbcm")&&parseFloat(h.get("mbcm")),s=s||!!h.get("mba")&&h.get("mba");const $=[];for(const v of h.entries())"mbpp"===v[0].substr(0,4)&&(g=v[0].split("-")[1],u=v[1],$.push({key:g,value:u}));for(const y of i.getElementsByTagName("input")){var D=$.find(a=>a.key===y.getAttribute("mb-prepop"));D&&(D=D.value,y.value=D)}o&&d(0,{clickId:t,leadData:c,saleAmount:l,commissionAmount:m,rateName:r,affiliateId:s}),e.callMethod=a=>{[callMethod,callData]=a,"track"==callMethod&&(t=callData&&callData.mbi?parseInt(callData.mbi):t,c=callData&&callData.mbd?b(callData.mbd):c,l=callData&&callData.mbs?parseFloat(callData.mbs):l,m=callData&&callData.mbcm?parseFloat(callData.mbcm):m,r=callData&&callData.mbr?b(callData.mbr):r,s=callData&&callData.mba?parseInt(callData.mba):s,d(0,{clickId:t,leadData:c,saleAmount:l,commissionAmount:m,rateName:r,affiliateId:s}))};for(var f=new RegExp("#MBI#","g"),k=i.querySelectorAll("a"),I=0;I<k.length;I++)k[I].href=k[I].href.replace(f,t)}else console.log("MB Pixel not initialized. Please contact with your Ad manager for integration instructions.")}(window,document,(location,history));